(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[670],{2368:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(5155),a=t(2115),n=t(2974),i=t.n(n);function o(){let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(0);return(0,a.useEffect)(()=>{(async()=>{try{if(0===c){let e=await fetch("https://api.openf1.org/v1/sessions?session_key=latest"),s=(await e.json())[0].session_key;d(s);return}n(!0),l(null);let e=await fetch("https://api.openf1.org/v1/drivers?session_key=".concat(c)),t=await e.json(),r=await fetch("https://api.openf1.org/v1/position?session_key=".concat(c)),a=await r.json(),i=Array.from(new Map(a.map(e=>[e.driver_number,e])).values());i.sort((e,s)=>e.position-s.position);let o=new Map(t.map(e=>[e.driver_number,e])),h=i.map(e=>({...e,...o.get(e.driver_number)||{}}));s(h),n(!1)}catch(e){console.error("Error fetching race data:",e),l("Failed to load race data"),n(!1)}})()},[c]),(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsx)("h1",{className:i().title,children:"Race Positions"}),t&&(0,r.jsx)("p",{className:i().loading,children:"Loading race data..."}),o&&(0,r.jsx)("p",{className:i().error,children:o}),(0,r.jsx)("button",{onClick:()=>{d(c-1)},children:"Previous"}),(0,r.jsx)("button",{onClick:()=>{d(c+1)},children:"Next"}),e.length>0&&(0,r.jsx)("p",{children:(0,r.jsxs)("strong",{children:["Session Key: ",c]})}),(0,r.jsxs)("table",{className:i().table,children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Position"}),(0,r.jsx)("td",{children:"Driver Number"}),(0,r.jsx)("td",{children:"Name"})]}),e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.position}),(0,r.jsxs)("td",{children:["#",e.driver_number]}),(0,r.jsxs)("td",{children:[e.first_name," ",e.last_name]})]},e.driver_number))]})]})}},2974:e=>{e.exports={table:"page_table__9AATg"}},5285:(e,s,t)=>{Promise.resolve().then(t.bind(t,2368))}},e=>{var s=s=>e(e.s=s);e.O(0,[797,441,684,358],()=>s(5285)),_N_E=e.O()}]);